#:kivy 1.10
#:import Factory kivy.factory.Factory
#:import datetime datetime
#: import ListAdapter kivy.adapters.listadapter.ListAdapter
#: import ListItemButton kivy.uix.listview.ListItemButton

<CustomerGrid@GridLayout>:
	size_hint: 1.2,1.2
	size_hint_y: 0.6
	cols:3
	Button:
		text: root.name or ""
		background_color: 0,0,0,0
		color: 0,0,0,1
		canvas.before:
	        Color:
	            rgba: 0, 0, 0, 0.8
	        Line:
	            width: 1
	            rectangle: self.x, self.y, self.width, self.height
	    # on_press: self.parent.parent.parent.parent.parent.parent.parent.manager.current= 'customer'
		on_press: root.line_click()
	    text_size: self.size
	    valign: "middle"
	    padding_x: 5
	Button:
		text: root.contact_number or ""
		background_color: 0,0,0,0
		color: 0,0,0,1
		canvas.before:
	        Color:
	            rgba: 0, 0, 0, 0.8
	        Line:
	            width: 1
	            rectangle: self.x, self.y, self.width, self.height
	    text_size: self.size
	    valign: "middle"
	    padding_x: 5
	Button:
		text: root.email_address or ""
		background_color: 0,0,0,0
		color: 0,0,0,1
		canvas.before:
	        Color:
	            rgba: 0, 0, 0, 0.8
	        Line:
	            width: 1
	            rectangle: self.x, self.y, self.width, self.height
	    text_size: self.size
	    valign: "middle"
	    padding_x: 5

#<CustomerListButton@ListItemButton>:
#	 text_size: self.size
#    selected_color: 1,0,0,0.2
#    deselected_color: 200, 200, 200, 1 
#    color: 0, 0, 0, 1
#    size: (100, '32dp')
#    canvas.before:
#        Color:
#            rgba: 0, 0, 0, 0.8
#        Line:#

#            width: 1
#            rectangle: self.x, self.y, self.width, self.height
#    on_press: self.parent.parent.parent.parent.parent.parent.parent.manager.current= 'customer'
<MainPage>:
	canvas.before:
		Color:
		    rgba: (1,1,1,1) 
		Rectangle:
		    pos: self.pos
		    size: self.size
	BoxLayout:
		canvas.before:
			Color: 
			    rgba: (0,0,0,0.2) 
			Rectangle:
			    pos: self.pos
			    size: self.size
		BoxLayout:
			orientation: "vertical"
			spacing: 20
			padding: 40
			Button:
				text: "Customer"
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				bold: True
				font_size: 20
				on_press:root.manager.current= 'customer_list'
			Button:
				text: "Supplier"
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				bold: True
				font_size: 20
			Button:
				text: "Item"
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				bold: True
				font_size: 20
			Button:
				text: "Tax"
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				bold: True
				font_size: 20
		BoxLayout:
			orientation: "vertical"
			spacing: 20
			padding: 40
			Button:
				text: "Sale"
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				bold: True
				font_size: 20
			Button:
				text: "Purchase"
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				bold: True
				font_size: 20
			Button:
				text: "Stock"
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				bold: True
				font_size: 20
			Button:
				text: "Payment"
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				bold: True
				font_size: 20

<CustomerList>
	cust: cust
	canvas.before:
		Color:
		    rgba: (1,1,1,1) 
		Rectangle:
		    pos: self.pos
		    size: self.size
	BoxLayout:
		padding: 20
		canvas.before:
			Color: 
			    rgba: (0,0,0,0.2) 
			Rectangle:
			    pos: self.pos
			    size: self.size
		orientation: "vertical"
		BoxLayout:
			orientation: "vertical"
			BoxLayout:
				spacing: 5
				size_hint_y: 0.06
				Label:
					text: "Customer List"
					text_size: self.size
					font_size: 30
					bold: True
					color: 0,0,0,1
					underline: True
				Button:
					size_hint_x: 0.1
					size_hint_y: 1.2
					text: "Back"
					canvas.before:
				        Color:
				            rgba: 0, 0, 0, 0.8
				        Line:
				            width: 1
				            rectangle: self.x, self.y, self.width, self.height
					background_color: 0, 0, 0, 0.2
					color: 0,0,0,1
					bold: True
					on_press:root.manager.current= 'main_page'
				Button:
					size_hint_x: 0.1
					size_hint_y: 1.2
					text: "Add New"
					canvas.before:
				        Color:
				            rgba: 0, 0, 0, 0.8
				        Line:
				            width: 1
				            rectangle: self.x, self.y, self.width, self.height
					background_color: 0, 0, 0, 0.2
					color: 0,0,0,1
					bold: True
					on_press:root.manager.current= 'customer'
					
			BoxLayout:
				size_hint_y: 0.1
				Label:
					text: "Customer Name"
					text_size: self.size
					color: 0,0,0,1
					bold: True
					padding_x: 5
					font_size: 18
				Label:
					text: "Contact Number"
					text_size: self.size
					color: 0,0,0,1
					bold: True
					padding_x: 5
					font_size: 18
				Label:
					text: "Contact Email"
					text_size: self.size
					color: 0,0,0,1
					bold: True
					padding_x: 5
					font_size: 18
			BoxLayout:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
			
					Color:
					    rgba: (1,1,1,1) 
					Rectangle:
					    pos: self.pos
					    size: self.size
				RecycleView:
					id:cust
					viewclass: 'CustomerGrid'					
					RecycleGridLayout:						
		                cols: 1
		                key_selection: 'selectable'
		                default_size: None, dp(35)
		                default_size_hint: 1, None
		                size_hint_y: None
		                height: self.minimum_height
		                multiselect: True
		                touch_multiselect: True
				#ListView:
#					adapter:
#			            ListAdapter(data=['a','b','b','b','b','b','b','b','b','b','b','b','b','b','b','b','b','b','b','b','b','b','b','b'], cls=Factory.CustomerListButton,deselected_color= '200, 200, 200, 1' )

<Customer>:
	name: name
    contact_number: contact_number
    email_address: email_address
    #customer_name_list: customer_name_list_view
	canvas.before:
		Color:
		    rgba: (1,1,1,1) 
		Rectangle:
		    pos: self.pos
		    size: self.size
	BoxLayout:
		orientation: "horizontal"
		canvas.before:
	        Color:
	            rgba: (0,0,0,0.2)
	        Rectangle:
	            pos: self.pos
	            size: self.size
		    	
		#BoxLayout:
#			orientation: "vertical"
#			size_hint_x: 0.17
#			Button:
#				canvas.before:
#			        Color:
#			            rgba: 0, 0, 0, 0.8
#			        Line:
#			            width: 1
#			            rectangle: self.x, self.y, self.width, self.height
#				background_color: 0, 0, 0, 0.2
#				color: 0,0,0,1
#				text: "Customer"
#				on_press:root.manager.current= 'customer'
#			Button:
#				canvas.before:
#			        Color:
#			            rgba: 0, 0, 0, 0.8
#			        Line:
#			            width: 1
#			            rectangle: self.x, self.y, self.width, self.height
#				background_color: 0, 0, 0, 0.2
#				color: 0,0,0,1
#				text: "Supplier"
#				on_press:root.manager.current= 'supplier'
#			Button:
#				canvas.before:
#			        Color:
#			            rgba: 0, 0, 0, 0.8
#			        Line:
#			            width: 1
#			            rectangle: self.x, self.y, self.width, self.height
#				background_color: 0, 0, 0, 0.2
#				color: 0,0,0,1
#				text: "Item"
#				on_press:root.manager.current= 'item'
#			Button:
#				canvas.before:
#			        Color:
#			            rgba: 0, 0, 0, 0.8
#			        Line:
#			            width: 1
#			            rectangle: self.x, self.y, self.width, self.height
#				background_color: 0, 0, 0, 0.2
#				color: 0,0,0,1
#				text: "tax"
#				on_press:root.manager.current= 'tax'
#			Button:
#				canvas.before:
#			        Color:
#			            rgba: 0, 0, 0, 0.8
#			        Line:
#			            width: 1
#			            rectangle: self.x, self.y, self.width, self.height
#				background_color: 0, 0, 0, 0.2
#				color: 0,0,0,1
#				text: "sale"
#				on_press:root.manager.current= 'sale'#

#			Button:
#				canvas.before:
#			        Color:
#			            rgba: 0, 0, 0, 0.8
#			        Line:
#			            width: 1
#			            rectangle: self.x, self.y, self.width, self.height
#				background_color: 0, 0, 0, 0.2
#				color: 0,0,0,1
#				text: "Purchase"
#				on_press:root.manager.current= 'purchase'
#				
#			Button:
#				canvas.before:
#			        Color:
#			            rgba: 0, 0, 0, 0.8
#			        Line:
#			            width: 1
#			            rectangle: self.x, self.y, self.width, self.height
#				background_color: 0, 0, 0, 0.2
#				color: 0,0,0,1
#				text: "Stock"
#				on_press:root.manager.current= 'stock'
#				
#			Button:
#				canvas.before:
#			        Color:
#			            rgba: 0, 0, 0, 0.8
#			        Line:
#			            width: 1
#			            rectangle: self.x, self.y, self.width, self.height
#				background_color: 0, 0, 0, 0.2
#				color: 0,0,0,1
#				text: "Payment"
#				on_press:root.manager.current= 'payment'
#				

		#BoxLayout:
#			size_hint_x: 0.05
#			canvas.before:
#		        Color:
#		            rgba: (0,0,0,0.2) 
#		        Rectangle:
#		            pos: self.pos
#		            size: self.size

		BoxLayout:
			spacing: 20
			padding: 20
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.2)
		        Rectangle:
		            pos: self.pos
		            size: self.size
		    	
			orientation: "vertical"
			BoxLayout:
				size_hint_y: 0.1
				Button:
					size_hint_x: 0.15
					size_hint_y: 1.3
					text: "Back"
					canvas.before:
				        Color:
				            rgba: 0, 0, 0, 0.8
				        Line:
				            width: 1
				            rectangle: self.x, self.y, self.width, self.height
					background_color: 0, 0, 0, 0.1
					color: 0,0,0,1
					bold: True
					on_press:root.manager.current= 'customer_list'	
				Label:
			BoxLayout:
				canvas.before:
					Color:
						rgba: 0, 0, 0, 0.8
			    	Line:
			        	width: 1
			        	rectangle: self.x, self.y, self.width, self.height
			    
				orientation: "vertical"
				BoxLayout:
					padding:20
					size_hint_y: 1
				    Label:
						size_hint_y: 5
						size_hint_x: 0.2
				        font_size: 30
				        text: "Customer"
				        text_size: self.size
				        bold: True
				        italic: True
				        underline: True
				        color: 0,0,0,1
				BoxLayout:
					size_hint_y: 1
					padding:20
					Label:
						size_hint_y: 3
						size_hint_x: 0.2
				        font_size: 20
				        text: "Customer Name"
				        text_size: self.size
				        bold: True
				        color: 0,0,0,1

				    TextInput:
				    	id: name
				    	size_hint_y: 2
				    	size_hint_x: 0.2
				    	font_size: 20

				BoxLayout:
					padding:20
					size_hint_y: 1
					Label:
						size_hint_y: 3
						size_hint_x: 0.2
				        font_size: 20
				        text: "Contact Number"
				        text_size: self.size
				        bold: True
				        color: 0,0,0,1

				    TextInput:
				    	id: contact_number
				    	size_hint_y: 2
				    	size_hint_x: 0.2
				    	font_size: 20

				BoxLayout:
					padding:20
					size_hint_y: 1
					Label:
						size_hint_y: 3
						size_hint_x: 0.2
				        font_size: 20
				        text: "Contact Email"
				        text_size: self.size
				        bold: True
				        color: 0,0,0,1
				    TextInput:
				    	id: email_address
				    	size_hint_y: 2
				    	size_hint_x: 0.2
				    	font_size: 20


				BoxLayout:
					BoxLayout:
						size_hint_x: 0.5
					BoxLayout:
						Button:
							canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
	    					background_color: 0, 0, 0, 0.1
	    					color: 0,0,0,1
		            		text: "Save"
		            		size_hint_y: 0.7
		            		bold: True
		            		on_press: root.save()
		            	BoxLayout:
		            	Button:
		            		canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
	    					background_color: 0, 0, 0, 0.1
	    					color: 0,0,0,1
		            		text: "Cancel"
		            		size_hint_y: 0.7
		            		bold: True
		            		on_press: root.cancel()
		            BoxLayout:
		            	size_hint_x: 0.5
	            BoxLayout:
	            	size_hint_y: 0.2
	        BoxLayout:
				orientation: "vertical"
				size_hint_y: 1
		BoxLayout:
			size_hint_x: 0.1
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.2)
		        Rectangle:
		            pos: self.pos
		            size: self.size
        BoxLayout:
        	orientation: "vertical"
        	size_hint_x: 0.3
        	canvas.before:
		        Color:
		            rgba: (0,0,0,0.2) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
        	BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.025
			#BoxLayout:
#				canvas.before:
#					Color:
#						rgba: 0, 0, 0, 0.8
#			    	Line:
#			        	width: 1
#			        	rectangle: self.x, self.y, self.width, self.height
#			    
#				orientation: "vertical"
#	        	Label:
#	        		canvas.before:
#				        Color:
#				            rgba: (1,1,1,1)
#				        Rectangle:
#				            pos: self.pos
#				            size: self.size
#					size_hint_y: 0.05
#					size_hint_x: 1
#			        font_size: 20
#			        text: "Customer List"
#			        bold: True
#			        color: 0,0,0,1
#			        #text_size: self.size
#			        underline: True
#			       
#			    ListView:
#					canvas.before:
#				        Color:
#				            rgba: (1,1,1,1)
#				        Rectangle:
#				            pos: self.pos
#				            size: self.size
#		            id: customer_name_list_view
#		            adapter:
#		                ListAdapter(data=[], cls=ListItemButton)
		    BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.025
		BoxLayout:
        	orientation: "vertical"
        	size_hint_x: 0.1
        	canvas.before:
		        Color:
		            rgba: (0,0,0,0.2) 
		        Rectangle:
		            pos: self.pos
		            size: self.size

<Supplier>:
	supplier_name: supplier_name
    address: address
    tax_id_gst_no: tax_id_gst_no
    contact_number: contact_number
    email: email
	canvas.before:
		Color: 
		    rgba: (1,1,1,1) 
		Rectangle:
		    pos: self.pos
		    size: self.size
	BoxLayout:
		orientation: "horizontal"
		BoxLayout:
			orientation: "vertical"
			size_hint_x: 0.17
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Customer"
				on_press:root.manager.current= 'customer'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Supplier"
				on_press:root.manager.current= 'supplier'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Item"
				on_press:root.manager.current= 'item'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Tax"
				on_press:root.manager.current= 'tax'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "sale"
				on_press:root.manager.current= 'sale'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Purchase"
				on_press:root.manager.current= 'purchase'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Stock"
				on_press:root.manager.current= 'stock'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Payment"
				on_press:root.manager.current= 'payment'
				
		BoxLayout:
			size_hint_x: 0.2
			canvas.before:
				Color: 
				    rgba: (0,0,0,0.2) 
				Rectangle:
				    pos: self.pos
				    size: self.size
		BoxLayout:
			orientation: "vertical"
			canvas.before:
				Color: 
				    rgba: (0,0,0,0.2) 
				Rectangle:
				    pos: self.pos
				    size: self.size

			BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05
			BoxLayout:
				canvas.before:
					Color:
						rgba: 0, 0, 0, 0.8
			    	Line:
			        	width: 1
			        	rectangle: self.x, self.y, self.width, self.height
			    
				orientation: "vertical"
				BoxLayout:
					padding: 20
					size_hint_y: 1.3
				    Label:
						size_hint_y: 0.80
						size_hint_x: 0.2
				        font_size: 30
				        text: "Supplier"
				        text_size: self.size
				        bold: True
				        italic: True
				        underline: True
				        color: 0,0,0,1
				BoxLayout:
					padding: 20
					Label:
						size_hint_y: 1.2
						size_hint_x: 0.2
				        font_size: 20
				        text: "Supplier Name"
				        text_size: self.size
				        bold: True
				        color: 0,0,0,1
				    TextInput:
				    	id: supplier_name
				    	size_hint_y: 1.3
				    	size_hint_x: 0.2
				    	font_size: 20
				BoxLayout:
				BoxLayout:
					padding: 20
					Label:
						valign:'top'
						size_hint_y: 3
						size_hint_x: 0.2
				        font_size: 20
				        text: "Address"
				        text_size: self.size
				        bold: True
				        color: 0,0,0,1
				    TextInput:
				    	size_hint_y:  3
				    	size_hint_x: 0.2
				    	font_size: 20
				    	id: address

				BoxLayout:
					padding: 20
					Label:
						size_hint_y: 1.2
						size_hint_x: 0.2
						font_size: 20
				        text: "Tax Id/GST No"
				        text_size: self.size
				        bold: True
				        color: 0,0,0,1
				    TextInput:
				    	size_hint_y:1.3
				    	size_hint_x: 0.2
				    	font_size: 20
				    	id: tax_id_gst_no
				BoxLayout:
					padding: 20
					Label:
						size_hint_y: 1.2
						size_hint_x: 0.2
				        font_size: 20
				        text: "Contact Number"
				        text_size: self.size
				        bold: True
				        color: 0,0,0,1
				    TextInput:
				    	size_hint_y: 1.3
				    	size_hint_x: 0.2
				    	font_size: 20
				    	id: contact_number

				BoxLayout:
					padding: 20
					Label:
						size_hint_y: 1.2
						size_hint_x: 0.2
				        font_size: 20
				        text: "Email"
				        text_size: self.size
				        bold: True
				        color: 0,0,0,1
				    TextInput:
				    	size_hint_y: 1.3
				    	size_hint_x: 0.2
				    	font_size: 20
				    	id: email
				BoxLayout:

				BoxLayout:
					padding: 20
					BoxLayout:
						size_hint_x: 0.2
					BoxLayout:
						Button:
							canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
	    					background_color: 0, 0, 0, 0.1
	    					color: 0,0,0,1
		            		text: "Save"
		            		size_hint_y: 1.4
		            		bold: True
		            		on_press: root.save()
		            	BoxLayout:
		            	Button:
		            		canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
	    					background_color: 0, 0, 0, 0.1
	    					color: 0,0,0,1
		            		text: "Cancel"
		            		size_hint_y: 1.4
		            		bold: True
		            		on_press: root.cancel()
		            BoxLayout:
		            	size_hint_x: 0.2
	            
	        BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05	
        BoxLayout:
        	size_hint_x: 0.5
        	canvas.before:
				Color: 
				    rgba: (0,0,0,0.2) 
				Rectangle:
				    pos: self.pos
				    size: self.size

<CustomTaxTable@GridLayout>:
	size_hint: 1.2,1.2
	size_hint_y: 0.6
	cols:3
	TextInput:
		font_size: 20
		id: tax_disription
		size_hint_x: 0.60
	TextInput:
		font_size: 20
		id: percentage
		size_hint_x: 0.20
	TextInput:
		font_size: 20
		id: amount
		size_hint_x: 0.20

<CategoryDropDown>:
    on_select:
        app.root.ids.item_screen.ids.category.text = '{}'.format(args[1])  

<Item>:
	item_name: item_name
	item_code: item_code
	canvas.before:
		Color:
		    rgba: (1,1,1,1) 
		Rectangle:
		    pos: self.pos
		    size: self.size
	BoxLayout:
		orientation: "horizontal"
		BoxLayout:
			orientation: "vertical"
			size_hint_x: 0.17
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Customer"
				on_press:root.manager.current= 'customer'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Supplier"
				on_press:root.manager.current= 'supplier'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Item"
				on_press:root.manager.current= 'item'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Tax"
				on_press:root.manager.current= 'tax'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "sale"
				on_press:root.manager.current= 'sale'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Purchase"
				on_press:root.manager.current= 'purchase'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Stock"
				on_press:root.manager.current= 'stock'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Payment"
				on_press:root.manager.current= 'payment'
				
		BoxLayout:
			size_hint_x: 0.2
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.2) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
		BoxLayout:
			orientation: "vertical"
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.2) 
		        Rectangle:
		            pos: self.pos
		            size: self.size

		    BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05
			BoxLayout:
				canvas.before:
					Color:
						rgba: 0, 0, 0, 0.8
			    	Line:
			        	width: 1
			        	rectangle: self.x, self.y, self.width, self.height
			    
				orientation: "vertical" 
				BoxLayout:
					padding:20
					size_hint_y: 1
				    Label:
						size_hint_y:2.5
						size_hint_x: 0.2
				        font_size: 30
				        text: "Item"
				        text_size: self.size
				        bold: True
				        italic: True
				        underline: True
				        color: 0,0,0,1
				BoxLayout:
					padding:20
					size_hint_y: 1
					Label:
						size_hint_y: 0.5
						size_hint_x: 0.2
				        font_size: 20
				        text: "Item Name"
				        text_size: self.size
				        bold: True
				        color: 0,0,0,1
				    TextInput:
				    	size_hint_y: 0.70
				    	size_hint_x: 0.2
				    	font_size: 20
				    	id: item_name

				BoxLayout:
					padding:20
					size_hint_y: 1
					Label:
						size_hint_y: 0.5
						size_hint_x: 0.2
				        font_size: 20
				        text: "Item Code"
				        text_size: self.size
				        bold: True
				        color: 0,0,0,1
				    TextInput:
				    	size_hint_y: 0.70
				    	size_hint_x: 0.2
				    	font_size: 20
				    	id: item_code

				BoxLayout:
					padding:20
					size_hint_y: 1
					Label:
						size_hint_y: 0.5
						size_hint_x: 1
				        font_size: 20
				        text: "Category"
				        text_size: self.size
				        bold: True
				        color: 0,0,0,1
				    Button:
				    	canvas.before:
					        Color:
					            rgba: 0, 0, 0, 0.8
					        Line:
					            width: 1
					            rectangle: self.x, self.y, self.width, self.height
						background_color: 0, 0, 0, 0.1
						color: 0,0,0,1
				        id: category
				        text: 'Select'
				        on_release: Factory.CategoryDropDown().open(self)
				        size_hint_y: None
				        height: 35

				BoxLayout:
					size_hint_y: 0.4
				BoxLayout:
					padding:20
					size_hint_y: 0.2
					Label:
						text: 'Tax Discription'
						size_hint_x: 0.60
						color: 0,0,0,1
						bold: True
					Label:
						text: "Percentage"
						size_hint_x: 0.20
						color: 0,0,0,1
						bold: True
					Label:
						text: 'Amount'
						size_hint_x: 0.20
						color: 0,0,0,1
						bold: True
				BoxLayout:
					padding:20
					size_hint_y: 1.5
					RecycleView:
						viewclass: 'CustomTaxTable'
						data: [{}, {}, {},{}, {}]
						RecycleGridLayout:
			                cols: 1
			                key_selection: 'selectable'
			                default_size: None, dp(35)
			                default_size_hint: 1, None
			                size_hint_y: None
			                height: self.minimum_height
			                multiselect: True
			                touch_multiselect: True
				BoxLayout:
					padding:20
					BoxLayout:
						size_hint_x: 0.2
					BoxLayout:
						Button:
							canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
	    					background_color: 0, 0, 0, 0.1
	    					color: 0,0,0,1
		            		text: "Save"
		            		size_hint_y: 0.65
		            		bold: True
		            		on_press: root.save()

		            	BoxLayout:

		            	Button:
		            		canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
	    					background_color: 0, 0, 0, 0.1
	    					color: 0,0,0,1
		            		text: "Cancel"
		            		size_hint_y: 0.65
		            		bold: True
		            		on_press: root.cancel()
		            BoxLayout:
		            	size_hint_x: 0.2
		        
		    BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05
        BoxLayout:
        	size_hint_x: 0.5
        	canvas.before:
		        Color:
		            rgba: (0,0,0,0.2) 
		        Rectangle:
		            pos: self.pos
		            size: self.size

<TaxTypeDropDown>:
    on_select:
        app.root.ids.tax_screen.ids.tax_type.text = '{}'.format(args[1])  

<Tax>:
	tax_name: tax_name
	percentage: percentage
	canvas.before:
		Color:
		    rgba: (1,1,1,1) 
		Rectangle:
		    pos: self.pos
		    size: self.size
	BoxLayout:
		orientation: "horizontal"
		BoxLayout:
			orientation: "vertical"
			size_hint_x: 0.17
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Customer"
				on_press:root.manager.current= 'customer'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Supplier"
				on_press:root.manager.current= 'supplier'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Item"
				on_press:root.manager.current= 'item'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Tax"
				on_press:root.manager.current= 'tax'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "sale"
				on_press:root.manager.current= 'sale'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Purchase"
				on_press:root.manager.current= 'purchase'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Stock"
				on_press:root.manager.current= 'stock'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Payment"
				on_press:root.manager.current= 'payment'
				
		BoxLayout:
			size_hint_x: 0.2
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.2) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
		BoxLayout:
			orientation: "vertical"
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.2) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
		    BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05
			BoxLayout:
				canvas.before:
					Color:
						rgba: 0, 0, 0, 0.8
			    	Line:
			        	width: 1
			        	rectangle: self.x, self.y, self.width, self.height
				orientation: "vertical"
				BoxLayout:
					padding: 40
					size_hint_y: 0.2
				    Label:
						size_hint_y: 3
						size_hint_x: 0.2
				        font_size: 30
				        text: "Tax"
				        text_size: self.size
				        bold: True
				        italic: True
				        underline: True
				        color: 0,0,0,1
				BoxLayout:
					padding: 40
					orientation: "vertical"
					BoxLayout:
						size_hint_y: 0.4
						Label:
							size_hint_y: 0.50
							size_hint_x: 0.2
					        font_size: 20
					        text: "Tax Name"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    TextInput:
					    	size_hint_y: 0.65
					    	size_hint_x: 0.2
					    	font_size: 20
					    	id: tax_name

					BoxLayout:
						Label:
							size_hint_y: 0.35
							size_hint_x: 1
					        font_size: 20
					        text: "Tax Type"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Button:
					    	canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
							background_color: 0, 0, 0, 0.1
							color: 0,0,0,1
					        id: tax_type
					        text: 'Select'
					        on_release: Factory.TaxTypeDropDown().open(self)
					        size_hint_y: None
					        height: 40
				
					BoxLayout:
						Label:
							size_hint_y: 0.35
							size_hint_x: 0.2
					        font_size: 20
					        text: "Percentage"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    TextInput:
					    	size_hint_y: 0.27
					    	size_hint_x: 0.2
					    	font_size: 20
					    	id: percentage

					BoxLayout:
						BoxLayout:
							size_hint_x: 0.2
						BoxLayout:
							Button:
								canvas.before:
							        Color:
							            rgba: 0, 0, 0, 0.8
							        Line:
							            width: 1
							            rectangle: self.x, self.y, self.width, self.height
		    					background_color: 0, 0, 0, 0.1
		    					color: 0,0,0,1
			            		text: "Save"
			            		size_hint_y: 0.3
			            		bold: True
			            		on_press: root.save()

			            	BoxLayout:

			            	Button:
			            		canvas.before:
							        Color:
							            rgba: 0, 0, 0, 0.8
							        Line:
							            width: 1
							            rectangle: self.x, self.y, self.width, self.height
		    					background_color: 0, 0, 0, 0.1
		    					color: 0,0,0,1
			            		text: "Cancel"
			            		size_hint_y: 0.3
			            		bold: True
			            		on_press: root.cancel()
			            BoxLayout:
			            	size_hint_x: 0.2

	        BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05
        BoxLayout:
        	size_hint_x: 0.5
        	canvas.before:
		        Color:
		            rgba: (0,0,0,0.2) 
		        Rectangle:
		            pos: self.pos
		            size: self.size

<SaleTable@GridLayout>:
	size_hint:0.9,0.9
	cols:8
	spacing: 6
	padding: 2
	Label:
		text: root.item or ""
		color: 0,0,0,1
	Label:
		text: root.rate or ""
		color: 0,0,0,1
	TextInput:
		id: quantity
		size_hint_x: 0.5

	TextInput:
		id: discount
		size_hint_x: 0.5
	Label:
		text: root.dis or ""
		color: 0,0,0,1
	Label:
		text: root.amt or ""
		color: 0,0,0,1
	Button:
		canvas.before:
	        Color:
	            rgba: 0, 0, 0, 0.8
	        Line:
	            width: 1
	            rectangle: self.x, self.y, self.width, self.height
		background_color: 0, 0, 0, 0
		color: 0,0,0,1
		size_hint_x: 0.5
		text: 'Edit'
		on_release: print(app.self.index)
	Button:
		canvas.before:
	        Color:
	            rgba: 0, 0, 0, 0.8
	        Line:
	            width: 1
	            rectangle: self.x, self.y, self.width, self.height
		background_color: 0, 0, 0, 0
		color: 0,0,0,1
		size_hint_x: 0.5
		text: 'Delete'

<CustomerDropDown>:
    on_select:
        app.root.ids.sale_screen.ids.customer.text = '{}'.format(args[1]) 

<Sale>:
	sal: sal
	canvas.before:
		Color:
		    rgba: (1,1,1,1) 
		Rectangle:
		    pos: self.pos
		    size: self.size
	BoxLayout:
		orientation: "horizontal"
		canvas.before:
		    Color:
		        rgba: (0,0,0,0.1) 
		    Rectangle:
		        pos: self.pos
		        size: self.size
		BoxLayout:
			orientation: "vertical"
			size_hint_x: 0.13
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Customer"
				on_press:root.manager.current= 'customer'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Supplier"
				on_press:root.manager.current= 'supplier'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Item"
				on_press:root.manager.current= 'item'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Tax"
				on_press:root.manager.current= 'tax'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Sale"
				on_press:root.manager.current= 'sale'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Purchase"
				on_press:root.manager.current= 'purchase'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Stock"
				on_press:root.manager.current= 'stock'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Payment"
				on_press:root.manager.current= 'payment'
				
	
		BoxLayout:
        	size_hint_x: 0.1
        	canvas.before:
		        Color:
		            rgba: (0,0,0,0.1) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
		BoxLayout:
			orientation: "vertical"
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.1) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
		    BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05
			BoxLayout:
				canvas.before:
					Color:
						rgba: 0, 0, 0, 0.8
			    	Line:
			        	width: 1
			        	rectangle: self.x, self.y, self.width, self.height
				orientation: "vertical"
				BoxLayout:
					padding: 20
					size_hint_y: 0.17
				    Label:
						size_hint_y: 0.80
						size_hint_x: 0.2
				        font_size: 30
				        text: "sale"
				        text_size: self.size
				        bold: True
				        italic: True
				        underline: True
				        color: 0,0,0,1
				BoxLayout:
					padding: 20
					orientation: "vertical"
				    BoxLayout:
				    	size_hint_y: 0.1
						Label:
							size_hint_y: 1
							size_hint_x: 0.2
					        font_size: 20
					        text: "Date:"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Label:
							size_hint_y: 1
							size_hint_x: 0.2
					        font_size: 20
					        text: str(datetime.datetime.now().strftime("%d-%m-%y"))
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    BoxLayout:
					    	size_hint_x: 0.3
					    Label:
							size_hint_y: 1
							size_hint_x: 0.2
					        font_size: 20
					        text: "Time:"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Label:
							size_hint_y: 1
							size_hint_x: 0.2
					        font_size: 20
					        text: root.tm or ""
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					BoxLayout:
						size_hint_y: 0.25
						Label:
							size_hint_y: 0.50
							size_hint_x: 1
					        font_size: 20
					        text: "Customer"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Button:
					    	canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
							background_color: 0, 0, 0, 0.1
							color: 0,0,0,1
					        id: customer
					        text: 'Select'
					        on_release: Factory.CustomerDropDown().open(self)
					        size_hint_y: None
					        height: 40
					    BoxLayout:
					BoxLayout:
						size_hint_y: 0.25
						Label:
							size_hint_y: 0.50
							size_hint_x: 1
					        font_size: 20
					        text: "Item"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
						TextInput:
							id: item
							size_hint_y: 0.65
					    	font_size: 20
					    BoxLayout:
					BoxLayout:
						size_hint_y: 0.1
					BoxLayout:
						size_hint_y: 0.05
						Label:
							text: 'Item Code '
							font_size: 15
							color: 0,0,0,1
							bold: True
						Label:
							text: "Rate"
							font_size: 15
							color: 0,0,0,1
							bold: True
						Label:
							text: "Qty"
							font_size: 15
							color: 0,0,0,1
							bold: True
							size_hint_x: 0.5
						Label:
							text: 'Discount%'
							font_size: 15
							color: 0,0,0,1
							bold: True
							size_hint_x: 0.5
						Label:
							text: "Discount"
							font_size: 15
							color: 0,0,0,1
							bold: True
						Label:
							text: 'Amount'
							font_size: 15
							color: 0,0,0,1
							bold: True
						Label:
							size_hint_x: 0.5
						Label:
							size_hint_x: 0.5
					BoxLayout:
						size_hint_y: 0.05
					BoxLayout:
						canvas.before:
					        Color:
					            rgba: 0, 0, 0, 0.8
					        Line:
					            width: 1
					            rectangle: self.x, self.y, self.width, self.height
					
							Color:
							    rgba: (1,1,1,1) 
							Rectangle:
							    pos: self.pos
							    size: self.size
						size_hint_y: 0.7
						RecycleView:
							id: sal
							viewclass: 'SaleTable'
							RecycleGridLayout:
				                cols: 1
				                key_selection: 'selectable'
				                default_size: None, dp(35)
				                default_size_hint: 1, None
				                size_hint_y: None
				                height: self.minimum_height
				                multiselect: True
				                touch_multiselect: True
				    BoxLayout:
						size_hint_y: 0.1
					BoxLayout:
						size_hint_y: 0.6
						BoxLayout:
							size_hint_x: 1.2
						BoxLayout:
							BoxLayout:
								orientation: "vertical"
								Label:
									text: 'Sub Total'
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.05
								Label:
									text: 'Disc.'
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.1
								Label:
									text: 'Tax'
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.1
								Label:
									text: "Total"
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.1
								
							BoxLayout:
								orientation: "vertical"
								Label:
									text: "554"
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.05
								Label:
									size_hint_y: 0.04
								TextInput:
									text: 
									font_size: 15
									text_size: self.size
									size_hint_y: 0.08
									size_hint_x: 0.4
								Label:
									text: "45454"
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.1
								Label:
									text: "45745"
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.1
								
			BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05

		BoxLayout:
        	size_hint_x: 0.2
        	canvas.before:
		        Color:
		            rgba: (0,0,0,0.1) 
		        Rectangle:
		            pos: self.pos
		            size: self.size

<PurchaseTable@GridLayout>:
	size_hint:0.9,0.9
	cols:8
	spacing: 6
	padding: 2
	Label:
		text: root.item or ""
		color: 0,0,0,1
	Label:
		text: root.rate or ""
		color: 0,0,0,1
	TextInput:
		id: quantity
		size_hint_x: 0.5
	TextInput:
		id: discount
		size_hint_x: 0.5
	Label:
		text: root.dis or ""
		color: 0,0,0,1
	Label:
		text: root.amt or ""
		color: 0,0,0,1
	Button:
		canvas.before:
	        Color:
	            rgba: 0, 0, 0, 0.8
	        Line:
	            width: 1
	            rectangle: self.x, self.y, self.width, self.height
		background_color: 0, 0, 0, 0
		color: 0,0,0,1
		size_hint_x: 0.5
		text: 'Edit'
		on_release: print(app.self.index)
	Button:
		canvas.before:
	        Color:
	            rgba: 0, 0, 0, 0.8
	        Line:
	            width: 1
	            rectangle: self.x, self.y, self.width, self.height
		background_color: 0, 0, 0, 0
		color: 0,0,0,1
		size_hint_x: 0.5
		text: 'Delete'

<SupplierDropDown>:
    on_select:
        app.root.ids.purchase_screen.ids.supplier.text = '{}'.format(args[1]) 

<Purchase>:
	pur: pur
	canvas.before:
		Color:
		    rgba: (1,1,1,1) 
		Rectangle:
		    pos: self.pos
		    size: self.size
	BoxLayout:
		orientation: "horizontal"
		canvas.before:
		    Color:
		        rgba: (0,0,0,0.1) 
		    Rectangle:
		        pos: self.pos
		        size: self.size
		BoxLayout:
			orientation: "vertical"
			size_hint_x: 0.13
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Customer"
				on_press:root.manager.current= 'customer'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Supplier"
				on_press:root.manager.current= 'supplier'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Item"
				on_press:root.manager.current= 'item'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Tax"
				on_press:root.manager.current= 'tax'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "sale"
				on_press:root.manager.current= 'sale'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Purchase"
				on_press:root.manager.current= 'purchase'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Stock"
				on_press:root.manager.current= 'stock'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Payment"
				on_press:root.manager.current= 'payment'
				
		BoxLayout:
        	size_hint_x: 0.1
        	canvas.before:
		        Color:
		            rgba: (0,0,0,0.1) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
		BoxLayout:
			orientation: "vertical"
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.1) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
		    BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.02
			BoxLayout:
				canvas.before:
					Color:
						rgba: 0, 0, 0, 0.8
			    	Line:
			        	width: 1
			        	rectangle: self.x, self.y, self.width, self.height
				orientation: "vertical"
				BoxLayout:
					padding: 20
					size_hint_y: 0.17
				    Label:
						size_hint_y: 0.80
						size_hint_x: 0.2
				        font_size: 30
				        text: "Purchase"
				        text_size: self.size
				        bold: True
				        italic: True
				        underline: True
				        color: 0,0,0,1
				BoxLayout:
					padding: 20
					orientation: "vertical"
				    BoxLayout:
				    	size_hint_y: 0.1
						Label:
							size_hint_y: 0.8
							size_hint_x: 0.2
					        font_size: 20
					        text: "Date:"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Label:
							size_hint_y: 0.8
							size_hint_x: 0.2
					        font_size: 20
					        text: str(datetime.datetime.now().strftime("%d-%m-%y"))
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    BoxLayout:
					    	size_hint_x: 0.3
					    Label:
							size_hint_y: 0.8
							size_hint_x: 0.2
					        font_size: 20
					        text: "Time:"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Label:
							size_hint_y: 0.8
							size_hint_x: 0.2
					        font_size: 20
					        text: root.tm or "" 
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					BoxLayout:
						size_hint_y: 0.2
						Label:
							size_hint_y: 0.8
							size_hint_x: 1
					        font_size: 20
					        text: "Supplier"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Button:
					    	canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
							background_color: 0, 0, 0, 0.1
							color: 0,0,0,1
					        id: supplier
					        text: 'Select'
					        on_release: Factory.SupplierDropDown().open(self)
					        size_hint_y: None
					        height: 40
					    BoxLayout:
					BoxLayout:
						size_hint_y: 0.2
						Label:
							size_hint_y: 0.8
							size_hint_x: 1
					        font_size: 20
					        text: "Item"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
						TextInput:
							id: item
							size_hint_y: 0.60
					    	font_size: 20
					    BoxLayout:
					BoxLayout:
						size_hint_y: 0.1
					BoxLayout:
						size_hint_y: 0.05
						Label:
							text: 'Item Code '
							font_size: 15
							color: 0,0,0,1
							bold: True
						Label:
							text: "Rate"
							font_size: 15
							color: 0,0,0,1
							bold: True
						Label:
							text: "Qty"
							font_size: 15
							color: 0,0,0,1
							bold: True
							size_hint_x: 0.5
						Label:
							text: 'Discount%'
							font_size: 15
							color: 0,0,0,1
							bold: True
							size_hint_x: 0.5
						Label:
							text: "Discount"
							font_size: 15
							color: 0,0,0,1
							bold: True
						Label:
							text: 'Amount'
							font_size: 15
							color: 0,0,0,1
							bold: True
						Label:
							size_hint_x: 0.5
						Label:
							size_hint_x: 0.5
					BoxLayout:
						size_hint_y: 0.05
					BoxLayout:
						canvas.before:
					        Color:
					            rgba: 0, 0, 0, 0.8
					        Line:
					            width: 1
					            rectangle: self.x, self.y, self.width, self.height
					   
							Color:
							    rgba: (1,1,1,1) 
							Rectangle:
							    pos: self.pos
							    size: self.size
						size_hint_y: 0.5
						RecycleView:
							id: pur
							viewclass: 'PurchaseTable'
							data: [{},{},{},{},{},{},{},{},{},{},{},{},{}]
							RecycleGridLayout:
				                cols: 1
				                key_selection: 'selectable'
				                default_size: None, dp(35)
				                default_size_hint: 1, None
				                size_hint_y: None
				                height: self.minimum_height
				                multiselect: True
				                touch_multiselect: True
				    BoxLayout:
						size_hint_y: 0.1
					BoxLayout:
						size_hint_y: 0.5
						BoxLayout:
							BoxLayout:
								orientation: "vertical"
								Label:
									text: 'Delivery Date'
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.3
								Label:
									text: 'Delivery Time'
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.3
								Label:
									size_hint_y: 0.2
								Label:
									valign: 'top'
									text: 'Notes'
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									#size_hint_y: 0.1
							BoxLayout:
								orientation: "vertical"
								DatePicker:
									pHint: 0.2,0.3
									font_size: 15
									text_size: self.size
									size_hint_y: 0.4
									size_hint_x: 0.8
								Label:
									size_hint_y: 0.1
								TextInput: 
									font_size: 15
									text_size: self.size
									size_hint_y: 0.4
									size_hint_x: 0.8
								Label:
									size_hint_y: 0.1
								TextInput:
									font_size: 15
									text_size: self.size
									#size_hint_y: 0.06
									size_hint_x: 0.8
							BoxLayout:
								size_hint_x: 0.2

						BoxLayout:
							size_hint_x: 0.1		
						BoxLayout:
							size_hint_x: 0.6
							BoxLayout:
								orientation: "vertical"
								Label:
									text: 'Sub Total'
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.05
								Label:
									text: 'Disc.'
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.1
								Label:
									text: 'tax'
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.1
								Label:
									text: "Total"
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.1
								Label:
									size_hint_y: 0.1
							BoxLayout:
								orientation: "vertical"
								Label:
									text: "554"
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.05
								Label:
									size_hint_y: 0.04
								TextInput:
									text: 
									font_size: 15
									text_size: self.size
									size_hint_y: 0.09
									size_hint_x: 0.5
								Label:
									text: "45454"
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.1
								Label:
									text: "45745"
									font_size: 15
									color: 0,0,0,1
									bold: True
									text_size: self.size
									size_hint_y: 0.1
								Label:
									size_hint_y: 0.1
			BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05								
		BoxLayout:
        	size_hint_x: 0.2
        	canvas.before:
		        Color:
		            rgba: (0,0,0,0.1) 
		        Rectangle:
		            pos: self.pos
		            size: self.size

<ItemCodeDropDown>:
    on_select:
        app.root.ids.stock_screen.ids.item_code.text = '{}'.format(args[1])  

<Stock>:
	canvas.before:
		Color:
		    rgba: (1,1,1,1) 
		Rectangle:
		    pos: self.pos
		    size: self.size
	BoxLayout:
		canvas.before:
		    Color:
		        rgba: (0,0,0,0.1) 
		    Rectangle:
		        pos: self.pos
		        size: self.size
		orientation: "horizontal"
		BoxLayout:
			orientation: "vertical"
			size_hint_x: 0.16
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Customer"
				on_press:root.manager.current= 'customer'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Supplier"
				on_press:root.manager.current= 'supplier'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Item"
				on_press:root.manager.current= 'item'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "tax"
				on_press:root.manager.current= 'tax'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "sale"
				on_press:root.manager.current= 'sale'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Purchase"
				on_press:root.manager.current= 'purchase'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Stock"
				on_press:root.manager.current= 'stock'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.1
				color: 0,0,0,1
				text: "Payment"
				on_press:root.manager.current= 'payment'
				
		BoxLayout:
			size_hint_x: 0.2
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.1) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
		BoxLayout:
			orientation: "vertical"
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.1) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
		    BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05
			BoxLayout:
				canvas.before:
					Color:
						rgba: 0, 0, 0, 0.8
			    	Line:
			        	width: 1
			        	rectangle: self.x, self.y, self.width, self.height
				orientation: "vertical"
				BoxLayout:
					padding: 40
					size_hint_y: 0.27
				    Label:
						size_hint_y: 0.8
						size_hint_x: 0.2
				        font_size: 30
				        text: "Stock"
				        text_size: self.size
				        bold: True
				        italic: True
				        underline: True
				        color: 0,0,0,1
				BoxLayout:
					padding: 40
					orientation: "vertical"
				    BoxLayout:
				    	size_hint_y: 0.05
						Label:
							size_hint_y: 0.8
							size_hint_x: 0.2
					        font_size: 20
					        text: "Date:"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Label:
							size_hint_y: 0.8
							size_hint_x: 0.2
					        font_size: 20
					        text: str(datetime.datetime.now().strftime("%d-%m-%y"))
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    BoxLayout:
					    	size_hint_x: 0.3
					    Label:
							size_hint_y: 0.8
							size_hint_x: 0.2
					        font_size: 20
					        text: "Time:"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Label:
							size_hint_y: 0.8
							size_hint_x: 0.2
					        font_size: 20
					        text: root.tm or ""
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					BoxLayout:
						size_hint_y: 0.2
					BoxLayout:
						size_hint_y: 0.1
						Label:
							text: 'Item Code '
							font_size: 20
							color: 0,0,0,1
							bold: True
						Label:
							id: current_stock
							text: "Current Stock"
							font_size: 20
							color: 0,0,0,1
							bold: True
						Label:
							text: 'Revised Stock'
							font_size: 20
							color: 0,0,0,1
							bold: True

					BoxLayout:
						size_hint_y: 0.1
						Button:
							canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
							background_color: 0, 0, 0, 0.1
							color: 0,0,0,1
					        id: item_code
					        text: 'Select Item Code'
					        on_release: Factory.ItemCodeDropDown().open(self)
					        size_hint_y: None
					        height: 40
						Label:
							text: ""
							size_hint_y: 0.50
							font_size: 20
							color: 0,0,0,1
							bold: True
						TextInput:
							id: revised_stock
							size_hint_y: 0.60
					    	font_size: 20
					    	halign: 'top'
					BoxLayout:
						size_hint_y: 0.2
					BoxLayout:
						size_hint_y: 0.1
						BoxLayout:
							size_hint_x: 0.2
						BoxLayout:
							size_hint_x: 2
							Button:
								canvas.before:
							        Color:
							            rgba: 0, 0, 0, 0.8
							        Line:
							            width: 1
							            rectangle: self.x, self.y, self.width, self.height
		    					background_color: 0, 0, 0, 0.1
		    					color: 0,0,0,1
			            		text: "Submit"
			            		size_hint_y: 0.7
			            		bold: True
			            		on_press:
			            	BoxLayout:
			            	BoxLayout:
			            		
				            	Button:
				            		canvas.before:
								        Color:
								            rgba: 0, 0, 0, 0.8
								        Line:
								            width: 1
								            rectangle: self.x, self.y, self.width, self.height
			    					background_color: 0, 0, 0, 0.1
			    					color: 0,0,0,1
				            		text: "Cancel"
				            		size_hint_y: 0.7
				            		bold: True
				            		on_press:
			            	BoxLayout:
			            		size_hint_x: 0.2
			BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05
        BoxLayout:
        	size_hint_x: 0.4
        	canvas.before:
		        Color:
		            rgba: (0,0,0,0.1) 
		        Rectangle:
		            pos: self.pos
		            size: self.size

<PaymentTypeDropDown>:
    on_select:
        app.root.ids.payment_screen.ids.payment_type.text = '{}'.format(args[1])  

<PaymentModeDropDown>:
    on_select:
        app.root.ids.payment_screen.ids.payment_mode.text = '{}'.format(args[1])  

<Payment>:
	transaction_ref: transaction_ref
	card_four_digit: card_four_digit
	amount: amount
	canvas.before:
		Color:
		    rgba: (1,1,1,1) 
		Rectangle:
		    pos: self.pos
		    size: self.size
	BoxLayout:
		orientation: "horizontal"
		BoxLayout:
			orientation: "vertical"
			size_hint_x: 0.17
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Customer"
				on_press:root.manager.current= 'customer'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Supplier"
				on_press:root.manager.current= 'supplier'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Item"
				on_press:root.manager.current= 'item'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "tax"
				on_press:root.manager.current= 'tax'
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "sale"
				on_press:root.manager.current= 'sale'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Purchase"
				on_press:root.manager.current= 'purchase'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Stock"
				on_press:root.manager.current= 'stock'
				
			Button:
				canvas.before:
			        Color:
			            rgba: 0, 0, 0, 0.8
			        Line:
			            width: 1
			            rectangle: self.x, self.y, self.width, self.height
				background_color: 0, 0, 0, 0.2
				color: 0,0,0,1
				text: "Payment"
				on_press:root.manager.current= 'payment'
				
		BoxLayout:
			size_hint_x: 0.2
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.2) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
		BoxLayout:
			orientation: "vertical"
			canvas.before:
		        Color:
		            rgba: (0,0,0,0.2) 
		        Rectangle:
		            pos: self.pos
		            size: self.size
		    BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05
			BoxLayout:
				canvas.before:
					Color:
						rgba: 0, 0, 0, 0.8
			    	Line:
			        	width: 1
			        	rectangle: self.x, self.y, self.width, self.height
			 
				orientation: "vertical"
				BoxLayout:
					padding: 40
					size_hint_y: 0.22
				    Label:
						size_hint_y: 2
						size_hint_x: 0.2
				        font_size: 30
				        text: "Payment"
				        text_size: self.size
				        bold: True
				        italic: True
				        underline: True
				        color: 0,0,0,1
				BoxLayout:
					padding: 40
					orientation: "vertical"
				    BoxLayout:
				    	size_hint_y: 0.1
						Label:
							size_hint_y: 3.5
							size_hint_x: 0.2
					        font_size: 20
					        text: "Date:"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Label:
							size_hint_y: 3.5
							size_hint_x: 0.2
					        font_size: 20
					        text: str(datetime.datetime.now().strftime("%d-%m-%y"))
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Label:
							size_hint_y: 3.5
							size_hint_x: 0.2
					        font_size: 20
					        text: "Time"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Label:
							size_hint_y: 3.5
							size_hint_x: 0.2
					        font_size: 20
					        text: root.tm or ""
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					BoxLayout:
						Label:
							size_hint_y: 0.35
							size_hint_x: 0.2
					        font_size: 20
					        text: "Trasaction Ref."
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    TextInput:
					    	size_hint_y: 0.50
					    	size_hint_x: 0.2
					    	font_size: 20
					    	id: transaction_ref

					BoxLayout:
						Label:
							size_hint_y: 0.35
							size_hint_x: 1
					        font_size: 20
					        text: "Payment Type"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Button:
					    	canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
							background_color: 0, 0, 0, 0.1
							color: 0,0,0,1
					        id: payment_type
					        text: 'Select'
					        on_release: Factory.PaymentTypeDropDown().open(self)
					        size_hint_y: None
					        height: 40

					BoxLayout:
						Label:
							size_hint_y: 0.35
							size_hint_x: 1
					        font_size: 20
					        text: "Mode Of Payment"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    Button:
					    	canvas.before:
						        Color:
						            rgba: 0, 0, 0, 0.8
						        Line:
						            width: 1
						            rectangle: self.x, self.y, self.width, self.height
							background_color: 0, 0, 0, 0.1
							color: 0,0,0,1
					        id: payment_mode
					        text: 'Select'
					        on_release: Factory.PaymentModeDropDown().open(self)
					        size_hint_y: None
					        height: 40
					    
					BoxLayout:
						Label:
							size_hint_y: 0.35
							size_hint_x: 0.2
					        font_size: 20
					        text: "Card Four Digits"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    TextInput:
					    	size_hint_y: 0.50
					    	size_hint_x: 0.2
					    	font_size: 20
					    	id: card_four_digit
					BoxLayout:
						Label:
							size_hint_y: 0.35
							size_hint_x: 0.2
					        font_size: 20
					        text: "Amount"
					        text_size: self.size
					        bold: True
					        color: 0,0,0,1
					    TextInput:
					    	size_hint_y: 0.50
					    	size_hint_x: 0.2
					    	font_size: 20
					    	id: amount
					BoxLayout:
						size_hint_y: 0.4
					BoxLayout:
						size_hint_y: 1
						BoxLayout:
							size_hint_x: 0.2
						BoxLayout:
							Button:
								canvas.before:
							        Color:
							            rgba: 0, 0, 0, 0.8
							        Line:
							            width: 1
							            rectangle: self.x, self.y, self.width, self.height
		    					background_color: 0, 0, 0, 0.1
		    					color: 0,0,0,1
			            		text: "Save"
			            		size_hint_y: 0.5
			            		bold: True
			            		on_press: root.save()

			            	BoxLayout:
			            	Button:
			            		canvas.before:
							        Color:
							            rgba: 0, 0, 0, 0.8
							        Line:
							            width: 1
							            rectangle: self.x, self.y, self.width, self.height
		    					background_color: 0, 0, 0, 0.1
		    					color: 0,0,0,1
			            		text: "Cancel"
			            		size_hint_y: 0.5
			            		bold: True
			            		on_press: root.cancel()
			            BoxLayout:
			            	size_hint_x: 0.2

	        BoxLayout:
				orientation: "vertical"
				size_hint_y: 0.05
        BoxLayout:
        	size_hint_x: 0.5
        	canvas.before:
		        Color:
		            rgba: (0,0,0,0.2) 
		        Rectangle:
		            pos: self.pos
		            size: self.size


<Manager>:
	id: screen_manager
	main_page: main_screen
	customer_list: customer_list_screen
	customer: customer_screen
	supplier: supplier_screen
	item: item_screen
	tax: tax_screen
	sale: sale_screen
	purchase: purchase_screen
	stock: stock_screen
	payment: payment_screen
	MainPage:
		id: main_screen
		name: 'main_page'
		manager: screen_manager

	CustomerList:
		id: customer_list_screen
		name: 'customer_list'
		manager: screen_manager

	Customer:
		id: customer_screen
		name: 'customer'
		manager: screen_manager

	Supplier:
		id: supplier_screen
		name: 'supplier'
		manager: screen_manager

	Item:
		id: item_screen
		name: 'item'
		manager: screen_manager

	Tax:
		id: tax_screen
		name: 'tax'
		manager: screen_manager
	Sale:
		id: sale_screen
		name: 'sale'
		manager: screen_manager

	Purchase:
		id: purchase_screen
		name: 'purchase'
		manager: screen_manager

	Stock:
		id: stock_screen
		name: 'stock'
		manager: screen_manager

	Payment:
		id: payment_screen
		name: 'payment'
		manager: screen_manager